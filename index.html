<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DKU Alumni 2050 | The Human Advantage</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { 
            --dku-blue: #003087; --dku-gold: #E2AD35; --dark-bg: #05080a; 
            --card-bg: #0f172a; --text-light: #f8fafc; --text-dim: #94a3b8;
            --success: #10b981;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--dark-bg); color: var(--text-light); margin: 0; display: flex; justify-content: center; min-height: 100vh; line-height: 1.6; }
        #app-container { width: 95%; max-width: 1000px; background: var(--card-bg); padding: 40px; border-radius: 4px; border-top: 8px solid var(--dku-blue); box-shadow: 0 20px 50px rgba(0,0,0,0.5); margin: 40px 0; }
        
        h1, h2, h3 { font-family: 'Crimson Pro', serif; color: var(--dku-gold); text-align: center; }
        h1 { font-size: 3.5rem; margin: 0; letter-spacing: -1px; }
        .tagline { text-align: center; font-size: 0.85rem; letter-spacing: 5px; color: var(--text-dim); text-transform: uppercase; margin: 10px 0 30px; }
        
        .screen { display: none; animation: fadeIn 0.6s ease forwards; }
        .active { display: block; }
        .hidden { display: none !important; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        .alumni-sprite { 
            background-image: url('c.jpg'); 
            background-size: 600% 400%; 
            background-repeat: no-repeat;
            filter: grayscale(40%);
            transition: 0.4s ease;
        }
        .photo-frame { width: 100%; height: 280px; border-bottom: 3px solid var(--dku-blue); }
        .char-card:hover .alumni-sprite { filter: grayscale(0%); border-bottom-color: var(--dku-gold); }
        .large-photo { width: 320px; height: 320px; margin: 0 auto 30px; border: 2px solid var(--dku-gold); }
        
        .btn { background: var(--dku-blue); color: white; border: none; padding: 20px 30px; cursor: pointer; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; width: 100%; transition: 0.3s; margin-top: 20px; border-radius: 2px; }
        .btn:hover:not(:disabled) { background: #002366; }
        .btn:disabled { background: #1e293b; color: #475569; cursor: not-allowed; }
        
        .character-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 25px; margin-top: 30px; }
        .char-card { background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.1); cursor: pointer; transition: 0.3s; text-align: left; overflow: hidden; }
        .char-card:hover { border-color: var(--dku-gold); transform: translateY(-8px); }
        .char-info { padding: 20px; }
        
        .skill-btn { display: block; width: 100%; padding: 18px; margin: 12px 0; background: transparent; border: 1px solid #334155; color: var(--text-light); text-align: left; cursor: pointer; font-size: 0.9rem; line-height: 1.4; }
        .skill-btn.selected { border-color: var(--dku-gold); background: rgba(226, 173, 53, 0.1); }
        
        .feedback-toast { display: none; background: var(--success); color: white; padding: 15px; text-align: center; border-radius: 4px; margin: 20px 0; font-weight: 600; letter-spacing: 1px; }
        .rationale-box { background: rgba(16, 185, 129, 0.1); border-left: 4px solid var(--success); padding: 25px; margin: 25px 0; color: var(--text-light); }

        .letter-box { background: #fffdfc; color: #1a1a1a; padding: 60px; font-family: 'Crimson Pro', serif; font-size: 1.25rem; border: 1px solid #d4d4d4; box-shadow: 0 15px 50px rgba(0,0,0,0.4); position: relative; }
        .letter-box p { margin-bottom: 25px; text-align: left; line-height: 1.7; }
        .letter-box::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 10px; background: var(--dku-blue); }
        .signature { margin-top: 50px; font-style: italic; font-weight: 600; color: var(--dku-blue); font-size: 1.4rem; }
        .progress-indicator { text-align: center; font-size: 0.75rem; color: var(--dku-gold); margin-bottom: 25px; font-weight: 700; text-transform: uppercase; letter-spacing: 3px; }

        @media (max-width: 768px) { .character-grid { grid-template-columns: 1fr; } .letter-box { padding: 30px; } }
    </style>
</head>
<body>

<div id="app-container">
    <div id="start-screen" class="screen active">
        <h1>DKU ALUMNI 2050</h1>
        <div class="tagline">The Human Advantage Inquiry</div>
        <div style="background: rgba(255,255,255,0.03); padding: 40px; border-radius: 4px; margin-bottom: 30px;">
            <p>Welcome to 2050. Technical tasks are now done by AI, but the ability to lead, persuade, and solve complex human problems is more valuable than ever.</p>
            <p><strong>To unlock your pathway:</strong> Consult with 3 alumni mentors. You must identify the 3 skills they used to reach the top of their field and identify the major that taught them those skills.</p>
        </div>
        <button class="btn" onclick="showSelection()">Initialize Inquiry Protocol</button>
    </div>

    <div id="selection-screen" class="screen">
        <div class="progress-indicator">Authentication Progress: <span id="mentors-met-count">0</span> / 3</div>
        <h2>Select an Alumni Mentor</h2>
        <div id="char-grid" class="character-grid"></div>
    </div>

    <div id="mentor-screen" class="screen">
        <div id="mentor-photo" class="alumni-sprite large-photo"></div>
        <h2 id="mentor-name-title" style="color: var(--dku-gold); margin: 0; text-align: center;"></h2>
        <p id="job-long-desc" style="color: #94a3b8; margin: 15px auto 35px; text-align: center; padding: 0 40px; font-size: 1.1rem;"></p>
        <p style="text-align:center; font-size: 0.8rem; letter-spacing: 2px;"><strong>IDENTIFY THE 3 CORE SKILLS:</strong></p>
        <div id="skill-options" style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 20px;"></div>
        <div id="skill-feedback" class="feedback-toast">✓ SKILLS AUTHENTICATED</div>
        <button id="verify-skills-btn" class="btn" onclick="verifySkills()" disabled>Check Skills</button>
    </div>

    <div id="major-screen" class="screen">
        <h2>Disciplinary Foundation</h2>
        <p style="text-align: center; color: var(--text-dim); margin-bottom: 30px;">Which DKU major provided the foundation for these skills?</p>
        <div id="major-options" class="character-grid"></div>
        <div id="major-feedback" class="feedback-toast">✓ DISCIPLINE CONFIRMED</div>
    </div>

    <div id="reveal-screen" class="screen">
        <div id="reveal-photo" class="alumni-sprite large-photo"></div>
        <h2 id="reveal-name" style="color: var(--dku-gold); margin: 0; text-align: center;"></h2>
        <div id="reveal-rationale" class="rationale-box"></div>
        <div id="reveal-content" style="background: rgba(255,255,255,0.03); padding: 30px; margin-top:10px; font-family: 'Crimson Pro'; font-size: 1.4rem; text-align: center;"></div>
        <button id="next-mentor-btn" class="btn" onclick="showSelection()">Seek Next Mentor</button>
        <button id="final-choice-btn" class="btn hidden" onclick="showFinalChoice()">Initialize Career Analysis</button>
    </div>

    <div id="choice-screen" class="screen">
        <h2>Inquiry Sequence Complete</h2>
        <p style="text-align: center; margin-bottom: 40px;">Choose one mentor to decrypt their full 25-year career reflection.</p>
        <div id="choice-grid" class="character-grid"></div>
    </div>

    <div id="letter-screen" class="screen">
        <div class="letter-box" id="letter-content"></div>
        <button class="btn" onclick="location.reload()">Return to 2025</button>
    </div>
</div>

<script>
    const majorExplanations = {
        "QPE": "QPE is about the 'Math of Choice.' It teaches you how to use data to predict how people’s feelings and habits will affect the economy. You learn to design rules that make big groups of people work together fairly.",
        "History": "History is about 'Root Causes.' It trains you to be a detective who can figure out why things are 'stuck' the way they are today by looking at what happened years ago. You learn how to fact-check the present using the past.",
        "Literature": "Literature is about 'Hidden Meanings.' It teaches you how to decode the stories and brand messages that influence people. You master the art of persuasion and learn how to build trust through powerful storytelling.",
        "GCS": "GCS is about 'Global Context.' It gives you a long-term view of how different cultures see the world. You learn how to take a global idea and translate it so that it respects local traditions and values.",
        "Philosophy & Religion": "This major is about 'Big Truths.' It trains you to strip away assumptions and solve 'Right vs. Right' dilemmas. You learn how to find clarity when everyone else is confused about what is ethical or real.",
        "PPE": "PPE is about 'The Rules of the Game.' It gives you the tools to fix broken organizations and design social contracts. You learn to balance who gets the power with what is actually fair for everyone.",
        "Sociology": "Sociology is about 'Invisible Patterns.' It teaches you how to see the hidden hierarchies and class barriers in a group. You learn how to build community spirit and audit systems to make sure they are actually fair.",
        "Anthropology": "Anthropology is about 'The Human Vibe.' It teaches you how to pay attention to the unwritten rules of a culture. You learn to understand people's 'lived experience' to design things they actually love to use."
    };

    const alumni = [
        // QPE
        { spr: "0% 0%", name: "Dr. Aris Thorne", job: "Director of Market Integrity", major: "QPE", 
          longDesc: "I oversee the fairness of automated trading systems, making sure that machine-driven markets don't hurt human society.",
          skills: ["Predicting how people's feelings affect financial trends.", "Finding patterns in massive social datasets.", "Designing rules that encourage people to cooperate."],
          distractors: ["Analyzing the hidden meaning of poems.", "Checking old physical archives for facts.", "Observing group vibes in person."],
          letter: [
              "I left DKU in 2025 when everyone was talking about 'Big Data' as just numbers on a screen. I started at a bank, but I quickly realized the machines were missing the most important thing: human hope and fear. My QPE major let me model the 'why' behind the numbers, not just the 'what.'",
              "By 2038, the markets were moving so fast they were breaking. I was hired by the IMF to design the 'Human Guardrails' for the system. I didn't just use math for profit; I used it for fairness. I made sure that when machines traded, they stayed aligned with what was actually good for real people.",
              "Now in 2050, I lead a global team. Economics isn't just math—it’s a human science. To you in 2025: learn the logic behind the code. If you understand why people choose what they choose, you will be the one who manages the future."
          ]},
        { spr: "20% 0%", name: "Liam Sterling", job: "Senior Economic Consultant", major: "QPE", 
          longDesc: "I advise governments on how to share the wealth from automation so that everyone can have a good life without a 9-to-5 job.",
          skills: ["Predicting how people react to new tax rules.", "Using game-theory to share resources fairly.", "Modeling how a city adapts when work disappears."],
          distractors: ["Analyzing symbolic rituals.", "Fixing red tape in offices.", "Spotting bias in social media."] },
        { spr: "40% 0%", name: "Aria Vance", job: "Global Logistics Strategist", major: "QPE", 
          longDesc: "I manage the flow of food and medicine between countries, making sure that everyone gets what they need regardless of distance.",
          skills: ["Using big data to solve shipping bottlenecks.", "Spotting economic risks in emerging markets.", "Designing systems that make resource access a right."],
          distractors: ["Fact-checking historical lies.", "Solving philosophical dilemmas.", "Designing office traditions."] },

        // HISTORY
        { spr: "60% 0%", name: "Amina Okoro", job: "Information Integrity Lead", major: "History", 
          longDesc: "I protect public records from being deleted or fake-rewritten by AI, using physical evidence to find the truth.",
          skills: ["Investigating how past events caused current problems.", "Fact-checking modern lies against physical evidence.", "Figuring out why things are 'stuck' the way they are."],
          distractors: ["Designing financial rules.", "Managing social media vibes.", "Building predictive data models."] },
        { spr: "80% 0%", name: "Felix Thorne", job: "VP of Organizational Heritage", major: "History", 
          longDesc: "I help global companies stay true to their original purpose while they grow, using their history as a guide for the future.",
          skills: ["Spotting patterns that repeat across decades.", "Finding the root cause of a company's success.", "Organizing messy data into a clear timeline."],
          distractors: ["Solving moral dilemmas.", "Predicting stock market bubbles.", "Fixing algorithmic bias."] },
        { spr: "100% 0%", name: "Thomas Beckett", job: "Conflict Resolution Advisor", major: "History", 
          longDesc: "I advise world leaders on how to stop wars before they start by looking at similar conflicts from the past.",
          skills: ["Applying past peace-making rules to new problems.", "Explaining current crises through old patterns.", "Investigating why past diplomatic deals failed."],
          distractors: ["Designing brand stories.", "Predicting food supply shortages.", "Decoding group hierarchies."] },

        // LITERATURE
        { spr: "0% 33.3%", name: "Julian Vane", job: "VP of Narrative Strategy", major: "Literature", 
          longDesc: "I design the brand stories and messages that make people trust a company in a digital world.",
          skills: ["Decoding the stories that influence how we think.", "Analyzing how ads or speeches persuade people.", "Figuring out what people want but aren't saying."],
          distractors: ["Modeling economic data.", "Fact-checking old documents.", "Fixing red tape in systems."] },
        { spr: "20% 33.3%", name: "Claire Dupont", job: "Director of User Experience", major: "Literature", 
          longDesc: "I design apps and interfaces that feel human, making sure technology doesn't stop us from thinking for ourselves.",
          skills: ["Analyzing how digital stories affect our emotions.", "Critiquing how apps try to manipulate users.", "Decoding what people need from a digital space."],
          distractors: ["Tracing history roots.", "Solving math problems.", "Predicting tax changes."] },
        { spr: "40% 33.3%", name: "Sasha Grey", job: "Senior Content Lead", major: "Literature", 
          longDesc: "I teach AI how to speak with human empathy so that people feel heard and respected by technology.",
          skills: ["Applying the rhythm of poetry to speech-bots.", "Using storytelling to make technology feel kinder.", "Designing the 'voice' and personality of a brand."],
          distractors: ["Solving logic puzzles.", "Analyzing social classes.", "Checking archival evidence."] },

        // GCS
        { spr: "60% 33.3%", name: "Zhang Wei", job: "Cross-Cultural Advisor", major: "GCS", 
          longDesc: "I help global companies work in Asia by making sure their plans respect local culture and history.",
          skills: ["Explaining 'how we do things here' to global bosses.", "Mixing old world values with new world business.", "Spotting long-term cultural trends in the market."],
          distractors: ["Predicting stock fluctuations.", "Designing brand ceremonies.", "Investigating old causes."] },
        { spr: "80% 33.3%", name: "Maya El-Amin", job: "Director of Global Strategy", major: "GCS", 
          longDesc: "I look at 100-year patterns to help companies plan where the world is going next.",
          skills: ["Spotting patterns that repeat over centuries.", "Predicting how cultures will shift in the future.", "Mapping how ideas move from one region to another."],
          distractors: ["Decoding group hierarchies.", "Using big social datasets.", "Defining moral rights."] },
        { spr: "100% 33.3%", name: "Lin Xiao", job: "Ethics & Values Officer", major: "GCS", 
          longDesc: "I make sure new technology respects the family values and traditions of the people using it.",
          skills: ["Checking if a product aligns with local values.", "Explaining cultural 'do's and don'ts' to engineers.", "Making sure the future feels familiar, not alien."],
          distractors: ["Solving legal disputes.", "Designing stock rules.", "Interpreting poems."] },

        // RELPHIL
        { spr: "0% 66.6%", name: "Siddharth Rao", job: "Chief Ethics Officer", major: "Philosophy & Religion", 
          longDesc: "I solve the 'right vs. right' dilemmas when we build new AI, helping companies do the right thing.",
          skills: ["Stripping away assumptions to find 'ground truth'.", "Solving dilemmas where there's no easy answer.", "Defining what makes a life 'meaningful' in 2050."],
          distractors: ["Predicting stock market trends.", "Fixing office bureaucracy.", "Decoding brand stories."] },
        { spr: "20% 66.6%", name: "Sofia Castillo", job: "Director of Digital Truth", major: "Philosophy & Religion", 
          longDesc: "I help people feel safe and grounded in virtual worlds by ensuring they know what is real and what isn't.",
          skills: ["Checking if a virtual world makes logical sense.", "Helping people find meaning in digital spaces.", "Verifying information using philosophical logic."],
          distractors: ["Investigating historical roots.", "Designing government rules.", "Spotting social bias."] },
        { spr: "40% 66.6%", name: "Zane Malik", job: "Lead Values Mediator", major: "Philosophy & Religion", 
          longDesc: "I help tech companies and religious groups understand each other so technology respects faith.",
          skills: ["Solving clashes between different worldviews.", "Explaining old traditions to new tech teams.", "Applying moral logic to complicated team disputes."],
          distractors: ["Analyzing group dynamics.", "Fixing liability laws.", "Predicting shipping delays."] },

        // PPE
        { spr: "60% 66.6%", name: "Elena Rossi", job: "Senior Institutional Strategist", major: "PPE", 
          longDesc: "I fix the 'clutter' and red tape in big organizations, making sure they work fairly for everyone.",
          skills: ["Fixing the red tape and friction in big companies.", "Rewriting the 'rules of the game' for a fair office.", "Figuring out who actually has the influence in a room."],
          distractors: ["Decoding brand rituals.", "Writing poetic bot code.", "Restoring old forests."] },
        { spr: "80% 66.6%", name: "Hiroshi Sato", job: "Lead Jurist for Digital Sovereignty", major: "PPE", 
          longDesc: "I protect your right to own your own thoughts and data in the digital economy.",
          skills: ["Analyzing the 'fairness' of how we trade data.", "Designing new laws for digital human rights.", "Solving disputes over who owns an idea or a thought."],
          distractors: ["Defining the soul.", "Spotting 100-year trends.", "Interpreting metaphors."] },
        { spr: "100% 66.6%", name: "Dr. Maya Jung", job: "Senior Equity Advisor", major: "PPE", 
          longDesc: "I make sure that the benefits of new energy and food tech are shared with the whole world.",
          skills: ["Checking if everyone has fair access to resources.", "Figuring out the politics behind global trade deals.", "Designing rules that help poorer nations get ahead."],
          distractors: ["Doing cultural observations.", "Predicting market bubbles.", "Decoding hidden hierarchies."] },

        // SOCIOLOGY
        { spr: "0% 100%", name: "Dr. Leo Chen", job: "Director of Solidarity", major: "Sociology", 
          longDesc: "I build 'community spirit' for companies whose employees never meet in person.",
          skills: ["Seeing the 'invisible ceiling' in a workplace.", "Building trust in groups that only meet online.", "Investigating why a group is falling apart."],
          distractors: ["Fixing government rules.", "Solving logic puzzles.", "Investigating old causes."] },
        { spr: "20% 100%", name: "Dr. Kenji Wu", job: "Chief Auditor of Social Mobility", major: "Sociology", 
          longDesc: "I check if a company's hiring systems are actually fair or if they have a secret bias.",
          skills: ["Spotting hidden bias in computer systems.", "Checking if people from all backgrounds can get a job.", "Seeing how different social groups interact."],
          distractors: ["Analyzing user emotions.", "Solving moral dilemmas.", "Fixing office red tape."] },
        { spr: "40% 100%", name: "Sarah Vance", job: "Network Dynamics Lead", major: "Sociology", 
          longDesc: "I analyze how viral movements start and help organizations respond to them.",
          skills: ["Analyzing how groups work together online.", "Spotting the most influential people in a network.", "Measuring how much trust a group actually has."],
          distractors: ["Writing poetry.", "Observing unwritten rules.", "Fact-checking old records."] },

        // ANTHROPOLOGY
        { spr: "60% 100%", name: "Nara Kim", job: "VP of Human Experience", major: "Anthropology", 
          longDesc: "I help tech firms design products that people actually love by understanding their daily habits.",
          skills: ["Paying attention to a group's 'unwritten rules'.", "Uncovering what makes a tradition important.", "Seeing how people adapt to new gadgets in real life."],
          distractors: ["Predicting stock market trends.", "Evaluating trade deals.", "Using diplomatic rules."] },
        { spr: "80% 100%", name: "Amara Okonkwo", job: "Senior Intercultural Mediator", major: "Anthropology", 
          longDesc: "I help parents and kids understand each other's different views of the world in a fast-moving age.",
          skills: ["Helping different generations understand each other.", "Seeing how families change in the digital age.", "Explaining 'vibe shifts' in culture to outsiders."],
          distractors: ["Analyzing brand stories.", "Rewriting legal contracts.", "Spotting long-term shifts."] },
        { spr: "100% 100%", name: "Dr. Julian Sky", job: "Director of Symbolic Strategy", major: "Anthropology", 
          longDesc: "I design the traditions and team-building events that make a workplace feel like a family.",
          skills: ["Designing the traditions that bond a team.", "Prioritizing how a product *actually* feels to use.", "Evaluating the 'social status' of a brand."],
          distractors: ["Checking old history facts.", "Designing stock market rules.", "Predicting tax changes."] }
    ];

    let metAlumni = [];
    let currentMentor = null;
    let selectedSkills = [];

    function showSelection() {
        switchScreen('start-screen', 'selection-screen');
        switchScreen('reveal-screen', 'selection-screen');
        document.getElementById('mentors-met-count').innerText = metAlumni.length;
        const grid = document.getElementById('char-grid');
        grid.innerHTML = '';
        const available = alumni.filter(a => !metAlumni.includes(a));
        shuffle(available).slice(0, 3).forEach(mentor => {
            const card = document.createElement('div');
            card.className = 'char-card';
            card.innerHTML = `<div class="alumni-sprite photo-frame" style="background-position: ${mentor.spr}"></div>
                             <div class="char-info"><h3>${mentor.name}</h3><p style="color:var(--dku-gold); text-transform:uppercase; font-size:0.8rem;">${mentor.job}</p></div>`;
            card.onclick = () => loadMentor(mentor);
            grid.appendChild(card);
        });
    }

    function loadMentor(mentor) {
        currentMentor = mentor;
        selectedSkills = [];
        switchScreen('selection-screen', 'mentor-screen');
        document.getElementById('mentor-name-title').innerText = mentor.name;
        document.getElementById('job-long-desc').innerText = mentor.longDesc;
        document.getElementById('mentor-photo').style.backgroundPosition = mentor.spr;
        document.getElementById('skill-feedback').style.display = 'none';
        document.getElementById('verify-skills-btn').style.display = 'block';
        const options = shuffle([...mentor.skills, ...mentor.distractors]);
        const grid = document.getElementById('skill-options');
        grid.innerHTML = '';
        options.forEach(skill => {
            const btn = document.createElement('button');
            btn.className = 'skill-btn';
            btn.innerText = skill;
            btn.onclick = () => {
                if (selectedSkills.includes(skill)) { selectedSkills = selectedSkills.filter(s => s !== skill); btn.classList.remove('selected'); }
                else if (selectedSkills.length < 3) { selectedSkills.push(skill); btn.classList.add('selected'); }
                document.getElementById('verify-skills-btn').disabled = (selectedSkills.length !== 3);
            };
            grid.appendChild(btn);
        });
    }

    function verifySkills() {
        if (selectedSkills.every(s => currentMentor.skills.includes(s))) {
            document.getElementById('skill-feedback').style.display = 'block';
            document.getElementById('verify-skills-btn').style.display = 'none';
            setTimeout(() => { switchScreen('mentor-screen', 'major-screen'); loadMajors(); }, 1000);
        } else { alert("Skill verification failed. Mismatch detected."); }
    }

    function loadMajors() {
        const grid = document.getElementById('major-options');
        grid.innerHTML = '';
        document.getElementById('major-feedback').style.display = 'none';
        const uniqueMajors = ["QPE", "History", "Literature", "GCS", "Philosophy & Religion", "PPE", "Sociology", "Anthropology"];
        shuffle(uniqueMajors).forEach(major => {
            const btn = document.createElement('div');
            btn.className = 'char-card'; btn.style.padding = '20px'; btn.style.textAlign = 'center'; btn.innerText = major;
            btn.onclick = () => {
                if (major === currentMentor.major) {
                    document.getElementById('major-feedback').style.display = 'block';
                    metAlumni.push(currentMentor);
                    setTimeout(() => {
                        switchScreen('major-screen', 'reveal-screen');
                        document.getElementById('reveal-name').innerText = currentMentor.name;
                        document.getElementById('reveal-photo').style.backgroundPosition = currentMentor.spr;
                        document.getElementById('reveal-rationale').innerHTML = `<strong>The ${major} Advantage:</strong><br>${majorExplanations[major]}`;
                        document.getElementById('reveal-content').innerText = "Authentication Successful.";
                        if (metAlumni.length === 3) {
                            document.getElementById('next-mentor-btn').classList.add('hidden');
                            document.getElementById('final-choice-btn').classList.remove('hidden');
                        } else {
                            document.getElementById('next-mentor-btn').classList.remove('hidden');
                            document.getElementById('final-choice-btn').classList.add('hidden');
                        }
                    }, 1000);
                } else { alert("Incorrect root."); }
            };
            grid.appendChild(btn);
        });
    }

    function showFinalChoice() {
        switchScreen('reveal-screen', 'choice-screen');
        const grid = document.getElementById('choice-grid');
        grid.innerHTML = '';
        metAlumni.forEach(alumnus => {
            const card = document.createElement('div');
            card.className = 'char-card';
            card.innerHTML = `<div class="alumni-sprite photo-frame" style="background-position: ${alumnus.spr}"></div>
                             <div class="char-info"><h3>${alumnus.name}</h3><p style="color:var(--dku-gold)">${alumnus.major}</p></div>`;
            card.onclick = () => displayLetter(alumnus);
            grid.appendChild(card);
        });
    }

    function displayLetter(alumnus) {
        switchScreen('choice-screen', 'letter-screen');
        const letterHTML = alumnus.letter.map(p => `<p>${p}</p>`).join('');
        document.getElementById('letter-content').innerHTML = `
            <p style="font-weight:700; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px; color: var(--dku-blue);">Trajectory Reflection: 2025 to 2050</p>
            <p style="margin-top: 0; font-weight: 600;">From: ${alumnus.name}, DKU Alumni Network</p>
            <hr style="border:0; border-top:1px solid #ddd; margin: 20px 0;">
            ${letterHTML}
            <div class="signature">Yours in Inquiry,<br>${alumnus.name}</div>
        `;
    }

    function switchScreen(from, to) {
        document.getElementById(from).classList.remove('active');
        document.getElementById(to).classList.add('active');
        window.scrollTo(0, 0);
    }
    function shuffle(arr) { return arr.sort(() => Math.random() - 0.5); }
</script>
</body>
</html>
